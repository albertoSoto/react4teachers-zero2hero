//include::_settings_reveal.adoc[]

include::_settings_deck.adoc[]

= React4teachers: 2022 edition

== React4teachers: From Zero 2 Hero


image::images/react-zero-hero.jpeg[800,600]

== Contenido del curso

* 1.- IntroducciÃ³ 
* 2.- De VanillaJs a React 
* 3.- React framework: Motivos de exito
* 4.- React framework: Class components vs Function components 
* 5.- React framework: State management - Control de el estado de la aplication 
* 6.- React framework: Routing 
* 7.- Storybook 
* 8.- Monorepo 
* 9.- TailwindCSS y StyledComponents 
* 10.-Despliegue de aplicaciones

== React router + Helmet

Hasta ahora hemos usado React como SPA, pero eso tiene serios inconvenientes: 

- La URL del navegador permanece en el mismo sitio
- No podemos enlazar externamente
- SEO se ve seriamente penalizado

Utilizaremos Router para enlazar y Helmet para inyectar atributos. Su uso es progresivo.


== Objetivo / Ejercicio de la UD

En este caso, sin dar la solucion, deberas buscar como convertir la app que estamos haciendo con react router y sin dejar de utilizar las siguientes tecnicas:

- Componentes
- Uso de props
- Application State (Redux)
- Links (Router)
- SEO (Helmet)

== React Router

> npm install react-router-dom

https://reactrouter.com/

== How to Route

La configuracion de React Router es muy sencilla

[source,]
----
# create react app
npx create-react-app router-tutorial
npm install react-router-dom@6
----

Usaremos los siguientes elementos:

- BrowserRouter para englobar nuestra App
- Routes para "configurar" los enlaces
- Route que define el path y el componente

== React router

[source,]
----
import { render } from "react-dom";
import {
  BrowserRouter,
  Routes,
  Route,
} from "react-router-dom";
import App from "./App";
import ComponentA from "./pages/componentA";
import ComponentB from "./pages/componentB";

const rootElement = document.getElementById("root");
render(
  <BrowserRouter>
    <Routes>
      <Route path="/" element={<App />} />
      <Route path="/example" element={<ComponentA />} />
      <Route path="/other" element={<ComponentB />} />
    </Routes>
  </BrowserRouter>,
  rootElement
);
----

== React router

El problema de esa aproximacion es el siguiente:

- Los componentes son independientes
- La comunicacion es limitada entre ellos
- Nos falta el concepto de layout
- Nos falta el envio de parametros por get

Para aplicar un layout tan solo tienes que incluir La Route de App como parent, e incluir Outlet y Link en App.

Veamos como se hace!

== Lab 3 - p1:

En tu fichero index.js, engloba tu App component con BrowserRouter:

[source,]
----
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import reportWebVitals from './reportWebVitals';
import { BrowserRouter } from 'react-router-dom';
ReactDOM.render(
  <React.StrictMode>
      <BrowserRouter>
          <App />
      </BrowserRouter>
  </React.StrictMode>,
  document.getElementById('root')
);
----

== Lab3 - p2:

Generemos los siguientes componentes:

- pages/Layout: Incluira la estructura de la pagina
- components/Menu: Incluira las acciones
- pages/Users: Componente listado
- pages/User: Componente detail, aceptara props

Para poder enlazar a las diferentes paginas, deberemos modificar index.js con lo siguiente:

[source,]
----
ReactDOM.render(
  <React.StrictMode>
      <BrowserRouter>
          <Routes>
              <Route path="/" element={<App />}>
                  <Route path="users" element={<Users />} />
                  <Route path="user" element={<User />} />
              </Route>
          </Routes>
      </BrowserRouter>
  </React.StrictMode>,
  document.getElementById('root')
);
----

Conviene incluir las routas en un fichero separado

== Lab3 - p3: components/Menu

Genera un componente Menu que incluya los enlaces que necesitas.

[source,]
----
import { Outlet, Link } from "react-router-dom";

const MenuStyle = {
    display: 'flex',
    justifyContent: 'space-around',
    width: "100%",
    borderBottom: "solid 1px",
    paddingBottom: "1rem"
}

const Menu = () => (
    <nav style={MenuStyle}>
        <div>Aloha!</div>
        <Link to="/">Main</Link>
        <Link to="/users">Users</Link>
        <Link to="/user/1">User 1</Link>
    </nav>
)

export default Menu
----


== Recursos de aprendizaje

* https://stackblitz.com/
* https://www.positronx.io/react-router-hooks-examples/
* https://www.freecodecamp.org/news/react-router-in-5-minutes/
* https://reactrouter.com/docs/en/v6/getting-started/tutorial